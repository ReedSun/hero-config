---
title: JavaScript 中的 for...in 和 for...of
date: 2017-10-31 20:46:21
tags: JavaScript
---

## for...in

`for...in` 语句是从 ES1 规范就开始支持的语句，其兼容性自然也非常棒。 MDN 文档对其的定义为：

>for...in语句以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。

自然，用 `for...in` 来遍历对象是再合适不过的了，不过要是用它来遍历数组就不太合适了，它会出现以下问题：
  - 数组是有顺序的，遍历顺序有可能不是数组的内部实际顺序。
  - `for...in`会遍历数组所有的可枚举属性，如果我们在数组原型中绑定属性，`for...in` 语句也会遍历我们绑定的属性。
所以，在 ES6 以前，我我们可能会用 `for (var i = 0; i < array.length; i++) {}` 来做数组的遍历。

## for...of

而到了 ES6 时代，我们就可以用更简洁的 `for...of` 方法来实现数组遍历了。

MDN 对 `for...of` 的定义为：

>for...of语句在可迭代对象（包括 Array，Map，Set，String，TypedArray，arguments 对象等等）上创建一个迭代循环，调用自定义迭代钩子，并为每个不同属性的值执行语句。

这个定义比较拗口，总之，如果我们要迭代 Array , String 等可迭代对象，用 `for...of` 是最合适不过的啦。而且 `for...of` 遍历的是元素的值（数组的值），`for...in` 则遍历的是元素的key（数组的索引），这点更是对遍历数组十分便利~

不过，`for...of` 作为 ES6 标准定义的语法，其兼容性要稍微差一点，不过现在已经是 ES6 和 Babel 的时代啦。 babel-loader 在手的话，就放心的用 `for...of` 来遍历数组吧。